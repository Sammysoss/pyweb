{% extends 'base.html'%}
{% load static %}
{% block title %}
    Welcome~ Pyweb!!
{% endblock %}

{% block content %}
<div class="container">
    <!-- Carousel 사용-->
    <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-indicators">
        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
      </div>
      <div class="carousel-inner">
        <div class="carousel-item active">
          <img src="{% static 'board/images/bg0.png' %}" class="d-block w-100" alt="...">
        </div>
        <div class="carousel-item">
          <img src="{% static 'board/images/bg1.png' %}" class="d-block w-100" alt="...">
        </div>
        <div class="carousel-item">
          <img src="{% static 'board/images/bg2.png' %}" class="d-block w-100" alt="...">
        </div>
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>

    <!-- index 내용-->
    <div class="row">
        <div class="col-6 p-5">
            <h3 class="mt-4">무엇이든 물어보세요</h3>
            <div class="card my-3" style="text-align:center;">
                <div class="card-body">
                    <p>질문/ 답변 게시판을 사용해 보세요</p>
                    <p>댓글/ 추천 기능을 사용해 보세요</p>
                    <a href="{% url 'board:boardlist' %}" class="btn btn-info">질문/ 답변 &raquo;</a>
                </div>
            </div>
            <h3 class="mt-4">설문 조사</h3>
            <div class="card my-3" style="text-align:center;">
                <div class="card-body">
                    <p>설문 조사에 참여해 주세요</p>
                    <a href="{% url 'poll:index' %}" class="btn btn-danger">참여하기 &raquo;</a>
                </div>
            </div>
        </div>
        <!-- 최신 질문-->
        <div class="col-6 p-5">
        <h3 class="mt-4">Question - 최근 질문</h3>
            {% for question in question_list%}
            <div class="card my-3" >
                <div class="card-body p-2">
                    <p>
                        <a href="{% url 'board:detail' question.id %}"
                            class="text-decoration-none">
                            {{ question.subject }}</a>
                    </p>
                    <div class="card-text text-right">
                        <span class="badge text-dark">
                            {{ question.author }} &nbsp; &nbsp; {{ question.create_date }}
                        </span>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}

{% block script %}

<!--
<script>
    let picture = ["/static/board/images/bg0.png", "/static/board/images/bg1.png",
                        "/static/board/images/bg2.png"];
    let pic_idx=0

    showPicture();   // 함수 호출 - 작동

    function showPicture(){
        let img = document.getElementById('pic');
        img.src = picture[pic_idx];   // 0번 인덱스 이미지 저장
        pic_idx += 1;  // 1증가
        if(pic_idx ==3){
            pic_idx= 0;
        };
        setTimeout(showPicture, 2000);       // 2초 설정(롤백 함수)
    }
</script>
-->

{% endblock %}